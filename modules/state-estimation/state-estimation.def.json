{
    "type": "module_def",
    "name": "state-estimation",
    "version": 2,
    "Task Priority": 80,
    "Task Period": 200000,
    "Transfer task period": 200000,
    "Notify on change": false,
    "description": {
        "en": "en description",
        "ru": "русское описание"
    },
    "paramsDefinitions": [
        {
            "name": "AccelLowPassKp",
            "displayName": {
                "en": "AccelLowPassKp",
                "ru": "AccelLowPassKp"
            },
            "description": {
                "en": "Settings for the State Estimator altitudeFilter",
                "ru": "Settings for the State Estimator altitudeFilter"
            },
            "type": "float",
            "defaultValue": 0.07,
            "unitMeasured": "m/s^2"
        },
        {
            "name": "AccelDriftKi",
            "displayName": {
                "en": "AccelDriftKi",
                "ru": "AccelDriftKi"
            },
            "description": {
                "en": "Settings for the State Estimator altitudeFilter",
                "ru": "Settings for the State Estimator altitudeFilter"
            },
            "type": "float",
            "defaultValue": 0.0005,
            "unitMeasured": "m/s^2"
        },
        {
            "name": "BaroKp",
            "displayName": {
                "en": "BaroKp",
                "ru": "BaroKp"
            },
            "description": {
                "en": "Settings for the State Estimator altitudeFilter",
                "ru": "Settings for the State Estimator altitudeFilter"
            },
            "type": "float",
            "defaultValue": 0.02,
            "unitMeasured": "m"
        },
        {
            "name": "FusionAlgorithm",
            "displayName": {
                "en": "FusionAlgorithm",
                "ru": "FusionAlgorithm"
            },
            "description": {
                "en": "Settings for the State Estimator altitudeFilter",
                "ru": "Settings for the State Estimator altitudeFilter"
            },
            "type": "int",
            "defaultValue": 0,
            "unitMeasured": "select"
        }
    ],
    "outputs": [
        {
            "name": "GyroState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "gyroX": {
                        "type": "float",
                        "required": true
                    },
                    "gyroY": {
                        "type": "float",
                        "required": true
                    },
                    "gyroZ": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        },
        {
            "name": "AccelState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "accelX": {
                        "type": "float",
                        "required": true
                    },
                    "accelY": {
                        "type": "float",
                        "required": true
                    },
                    "accelZ": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        },
        {
            "name": "MagState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "magX": {
                        "type": "float",
                        "required": true
                    },
                    "magY": {
                        "type": "float",
                        "required": true
                    },
                    "magZ": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        },
        {
            "name": "AttitudeState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "Q1": {
                        "type": "float",
                        "required": true
                    },
                    "Q2": {
                        "type": "float",
                        "required": true
                    },
                    "Q3": {
                        "type": "float",
                        "required": true
                    },
                    "Q4": {
                        "type": "float",
                        "required": true
                    },
                    "Roll": {
                        "type": "float",
                        "required": true
                    },
                    "Pitch": {
                        "type": "float",
                        "required": true
                    },
                    "Yaw": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        },
        {
            "name": "PositionState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "PosNorth": {
                        "type": "float",
                        "required": true
                    },
                    "PosEast": {
                        "type": "float",
                        "required": true
                    },
                    "PosDown": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        },
        {
            "name": "VelocityState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "VelNorth": {
                        "type": "float",
                        "required": true
                    },
                    "VelEast": {
                        "type": "float",
                        "required": true
                    },
                    "VelDown": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        },
        {
            "name": "AirspeedState",
            "Schema": {
                "type": "object",
                "id": "http://jsonschema.net",
                "properties": {
                    "CalibratedAirspeed": {
                        "type": "float",
                        "required": true
                    },
                    "TrueAirspeed": {
                        "type": "float",
                        "required": true
                    }
                }
            }
        }
    ],

    "inputShema": {
        "type": "object",
        "id": "http://jsonschema.net",
        "properties": {
            "accel-x": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "accel-x",
                    "ru": "accel-x"
                }
            },
            "accel-y": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "accel-y",
                    "ru": "accel-y"
                }
            },
            "accel-z": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "accel-z",
                    "ru": "accel-z"
                }
            },
            "gyro-x": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "gyro-x",
                    "ru": "gyro-x"
                }
            },
            "gyro-y": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "gyro-y",
                    "ru": "gyro-y"
                }
            },
            "gyro-z": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "gyro-z",
                    "ru": "gyro-z"
                }
            },
            "mag-x": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "mag-x",
                    "ru": "mag-x"
                }
            },
            "mag-y": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "mag-y",
                    "ru": "mag-y"
                }
            },
            "mag-z": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "mag-z",
                    "ru": "mag-z"
                }
            },
            "in-q1": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "q1",
                    "ru": "q1"
                }
            },
            "in-q2": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "q2",
                    "ru": "q2"
                }
            },
            "in-q3": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "q3",
                    "ru": "q3"
                }
            },
            "in-q4": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "q4",
                    "ru": "q4"
                }
            },
            "baroAltitude": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "BaroAltitude",
                    "ru": "Высота по барометру"
                }
            },
            "in-vel-north": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "North",
                    "ru": "North"
                }
            },
            "in-vel-east": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "East",
                    "ru": "East"
                }
            },
            "in-vel-down": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "Down",
                    "ru": "Down"
                }
            },
            "in-pos-north": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "North",
                    "ru": "North"
                }
            },
            "in-pos-east": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "East",
                    "ru": "East"
                }
            },
            "in-pos-down": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "Down",
                    "ru": "Down"
                }
            },
            "in-calibratedAirspeed": {
                "type": "float",
                "required": true,
                "description": {
                    "en": "CalibratedAirspeed",
                    "ru": "CalibratedAirspeed"
                }
            }
        }
    },

    "commands": [
        {
            "name": "command0"
        },
        {
            "name": "command1",
            "displayName": {
                "en": "Command 1",
                "ru": "Команда 1"
            },
            "description": {
                "en": "en description",
                "ru": "русское описание"
            },
            "commandParams": [
                {
                    "name": "Command Char Param",
                    "displayName": {
                        "en": "param 1",
                        "ru": "параметр 1"
                    },
                    "description": {
                        "en": "en description",
                        "ru": "русское описание"
                    },
                    "type": "const char*",
                    "defaultValue": "default value",
                    "validValues": [
                        "str1",
                        "str2"
                    ],
                    "unitMeasured": ""
                },
                {
                    "name": "Command Number Param",
                    "displayName": {
                        "en": "param 2",
                        "ru": "параметр 2"
                    },
                    "description": {
                        "en": "en description",
                        "ru": "русское описание"
                    },
                    "type": "int",
                    "defaultValue": 123,
                    "validValues": [
                        56,
                        123
                    ],
                    "unitMeasured": "Ms"
                },
                {
                    "name": "Command Boolean Param",
                    "displayName": {
                        "en": "param 3",
                        "ru": "параметр 3"
                    },
                    "description": {
                        "en": "en description",
                        "ru": "русское описание"
                    },
                    "type": "bool",
                    "defaultValue": false,
                    "unitMeasured": "bool"
                }
            ]
        },
        {
            "name": "command2",
            "description": {
                "en": "en description",
                "ru": "русское описание"
            },
            "commandParams": [
                {
                    "name": "Command float Param",
                    "displayName": {
                        "en": "param 1",
                        "ru": "параметр 1"
                    },
                    "description": {
                        "en": "en description",
                        "ru": "русское описание"
                    },
                    "type": "float",
                    "defaultValue": "default value",
                    "validValues": [
                        "1.0",
                        "2.3"
                    ],
                    "unitMeasured": ""
                },
                {
                    "name": "Command Number Param",
                    "displayName": {
                        "en": "param 2",
                        "ru": "параметр 2"
                    },
                    "description": {
                        "en": "en description",
                        "ru": "русское описание"
                    },
                    "type": "int",
                    "defaultValue": 123,
                    "validValues": [
                        56,
                        123
                    ],
                    "unitMeasured": "Ms"
                },
                {
                    "name": "Command Boolean Param",
                    "displayName": {
                        "en": "param 3",
                        "ru": "параметр 3"
                    },
                    "description": {
                        "en": "en description",
                        "ru": "русское описание"
                    },
                    "type": "bool",
                    "defaultValue": false,
                    "unitMeasured": "bool"
                }
            ]
        }
    ]
}